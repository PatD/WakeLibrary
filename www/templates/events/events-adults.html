<ion-view view-title="Wake County Adult Library Events">
  <ion-content>


<!-- p>Start dropdown</p>
    <ion-list class="list" ng-controller="LocationsCtrl">
        <ion-item ng-repeat="location in locations" class="item">
          <h2>{{location.attributes.NAME}}, {{location.attributes.CITY}}</h2>
        </ion-item>
  </ion-list -->



<div ng-controller="EventsAdultCtrl">

  <select ng-model="locationFilter">
    <option value="">All libraries</option>
    <option
      ng-if="event.location.__text"
      ng-repeat="event in events | orderBy: 'location.__text' | unique: 'location.__text'"
      value="{{event.location.__text}}">
      {{event.location.__text}}</option>
  </select>


      <ion-list class="list" >


      		<ion-item class="item" ng-repeat="event in events | filter:locationFilter" class="item item-text-wrap" ng-click="showDetails = ! showDetails">

            <h2>{{event.title}}</h2>
            <h4>{{event.location.__text}}</h4>
            <h4>{{event.formatteddatetime.__text}}</h4>
            <div class="card padding answerdetails " ng-show="showDetails">

              <span class="item-text-wrap" ng-bind-html="event.description_asArray"></span>

            </div>
          </ion-item>

    </ion-list>
</div>

  </ion-content>
</ion-view>
